(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{27:function(e,t,r){},28:function(e,t,r){},29:function(e,t,r){},30:function(e,t,r){},32:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n,c=r(0),a=r.n(c),i=r(19),l=r.n(i),s=r(14),o=(r(27),r(28),r(2)),u=r(7),h=(r(29),r(30),["title","titleId"]);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function d(e,t){var r=e.title,a=e.titleId,i=f(e,h);return c.createElement("svg",j({viewBox:"0 0 1134 340",ref:t,"aria-labelledby":a},i),void 0===r?c.createElement("title",{id:a},"Spotify"):r?c.createElement("title",{id:a},r):null,n||(n=c.createElement("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"})))}var b,O=c.forwardRef(d),p=(r.p,["title","titleId"]);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function g(e,t){var r=e.title,n=e.titleId,a=m(e,p);return c.createElement("svg",v({viewBox:"0 0 512 512",width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,b||(b=c.createElement("path",{d:"M448 463.746h-149.333v-149.333h-85.334v149.333h-149.333v-315.428l192-111.746 192 110.984v316.19z",fill:"currentColor"})))}var y,x=c.forwardRef(g),w=(r.p,["title","titleId"]);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function k(e,t){var r=e.title,n=e.titleId,a=E(e,w);return c.createElement("svg",S({viewBox:"0 0 512 512",width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,y||(y=c.createElement("path",{d:"M357.079 341.334l94.476 110.73-32.508 27.683-94.222-110.476q-45.714 30.476-100.826 30.476-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 23.365-5.841 45.714t-16.635 41.651-25.778 35.555zM224 357.079q28.19 0 53.841-11.048t44.19-29.587 29.587-44.19 11.048-53.841-11.048-53.841-29.587-44.191-44.19-29.587-53.841-11.047-53.841 11.047-44.191 29.588-29.587 44.19-11.047 53.841 11.047 53.841 29.588 44.19 44.19 29.587 53.841 11.048z",fill:"currentColor"})))}var z,C=c.forwardRef(k),N=(r.p,["title","titleId"]);function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function _(e,t){var r=e.title,n=e.titleId,a=P(e,N);return c.createElement("svg",I({role:"img",height:24,width:24,className:"Svg-sc-1bi12j5-0 gSLhUO collection-icon",viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,z||(z=c.createElement("path",{fill:"#fff",d:"M13.66 4.097l-.913.406 7.797 17.513.914-.406L13.66 4.097zM3 22h1V4H3v18zm6 0h1V4H9v18z"})))}var R,L=c.forwardRef(_),V=(r.p,r(1)),B=function(){return Object(V.jsxs)("div",{className:"sidebar",children:[Object(V.jsx)("div",{className:"logo",children:Object(V.jsx)(O,{})}),Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsxs)("a",{href:"/",className:"active",children:[Object(V.jsx)(x,{}),Object(V.jsx)("span",{children:"Home"})]})}),Object(V.jsx)("li",{children:Object(V.jsxs)("a",{href:"/search",children:[Object(V.jsx)(C,{}),Object(V.jsx)("span",{children:"Search"})]})}),Object(V.jsx)("li",{children:Object(V.jsxs)("a",{href:"/collection",children:[Object(V.jsx)(L,{}),Object(V.jsx)("span",{children:"Your Library"})]})})]})]})},U=(r(32),r(12)),F=r.n(U),H=r(15),M=r(10),T=r(11),G=function(){function e(){Object(M.a)(this,e)}return Object(T.a)(e,null,[{key:"getShortcuts",value:function(){var e=Object(H.a)(F.a.mark((function e(){var t,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.spotify.com/v1/recommendations?market=US&seed_artists=4NHQUGzhtTLFvgF5SZesLK&seed_tracks=0c6xIDDpzE81m2q797ordA&min_energy=0.4&min_popularity=50&limit=6","GET",t=new Headers({Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}),r={method:"GET",headers:t},e.next=6,fetch("https://api.spotify.com/v1/recommendations?market=US&seed_artists=4NHQUGzhtTLFvgF5SZesLK&seed_tracks=0c6xIDDpzE81m2q797ordA&min_energy=0.4&min_popularity=50&limit=6",r);case 6:return e.abrupt("return",e.sent.json());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),q=(r(34),function(e){var t=Object(c.useState)([]),r=Object(u.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(""),l=Object(u.a)(i,2),s=l[0],o=l[1];return Object(c.useEffect)((function(){a(e.album.images[2].url),o(e.album.name)}),[e.album]),Object(V.jsxs)("div",{className:"playlist-card",children:[Object(V.jsx)("div",{className:"playlist-card__cover",style:{backgroundImage:"url(".concat(n,")")}}),Object(V.jsx)("div",{className:"playlist-card__title",children:s})]})}),A=function(){var e,t=Object(c.useState)(),r=Object(u.a)(t,2),n=r[0],a=r[1];return Object(c.useEffect)((function(){G.getShortcuts().then((function(e){a(e)}))}),[]),Object(V.jsxs)("div",{className:"home",children:[Object(V.jsx)("h2",{children:"Good morning"}),Object(V.jsx)("div",{className:"grid-container",children:null===n||void 0===n||null===(e=n.tracks)||void 0===e?void 0:e.map((function(e,t){return Object(V.jsx)(q,{album:e.album},t)}))})]})},D=(r(35),["title","titleId"]);function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(this,arguments)}function J(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function K(e,t){var r=e.title,n=e.titleId,a=J(e,D);return c.createElement("svg",Z({width:16,height:16,fill:"currentColor",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg","data-testid":"user-icon",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,R||(R=c.createElement("path",{d:"M15.216 13.717L12 11.869C11.823 11.768 11.772 11.607 11.757 11.521C11.742 11.435 11.737 11.267 11.869 11.111L13.18 9.57401C14.031 8.58001 14.5 7.31101 14.5 6.00001V5.50001C14.5 3.98501 13.866 2.52301 12.761 1.48601C11.64 0.435011 10.173 -0.0879888 8.636 0.0110112C5.756 0.198011 3.501 2.68401 3.501 5.67101V6.00001C3.501 7.31101 3.97 8.58001 4.82 9.57401L6.131 11.111C6.264 11.266 6.258 11.434 6.243 11.521C6.228 11.607 6.177 11.768 5.999 11.869L2.786 13.716C1.067 14.692 0 16.526 0 18.501V20H1V18.501C1 16.885 1.874 15.385 3.283 14.584L6.498 12.736C6.886 12.513 7.152 12.132 7.228 11.691C7.304 11.251 7.182 10.802 6.891 10.462L5.579 8.92501C4.883 8.11101 4.499 7.07201 4.499 6.00001V5.67101C4.499 3.21001 6.344 1.16201 8.699 1.00901C9.961 0.928011 11.159 1.35601 12.076 2.21501C12.994 3.07601 13.5 4.24301 13.5 5.50001V6.00001C13.5 7.07201 13.117 8.11101 12.42 8.92501L11.109 10.462C10.819 10.803 10.696 11.251 10.772 11.691C10.849 12.132 11.115 12.513 11.503 12.736L14.721 14.585C16.127 15.384 17.001 16.884 17.001 18.501V20H18.001V18.501C18 16.526 16.932 14.692 15.216 13.717Z"})))}var Q,Y=c.forwardRef(K),W=(r.p,["title","titleId"]);function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(this,arguments)}function $(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function ee(e,t){var r=e.title,n=e.titleId,a=$(e,W);return c.createElement("svg",X({role:"img",height:16,width:16,fill:"#fff",className:"Svg-sc-1bi12j5-0 gSLhUO _kBqVtNa6io1mPbycO8V",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Q||(Q=c.createElement("path",{d:"M3 6l5 5.794L13 6z"})))}var te=c.forwardRef(ee),re=(r.p,function(){function e(){Object(M.a)(this,e)}return Object(T.a)(e,null,[{key:"getCurrentUsersProfile",value:function(){var e=Object(H.a)(F.a.mark((function e(){var t,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.spotify.com/v1/me","GET",t=new Headers({Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}),r={method:"GET",headers:t},e.next=6,fetch("https://api.spotify.com/v1/me",r);case 6:return e.abrupt("return",e.sent.json());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),ne=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){re.getCurrentUsersProfile().then((function(e){return n(e)}))}),[]),Object(V.jsx)("div",{className:"topbar",children:Object(V.jsxs)("div",{className:"account-btn",children:[Object(V.jsx)("div",{className:"account-icon",children:Object(V.jsx)(Y,{})}),Object(V.jsx)("span",{children:null===r||void 0===r?void 0:r.display_name}),Object(V.jsx)(te,{})]})})},ce=function(){function e(){Object(M.a)(this,e)}return Object(T.a)(e,null,[{key:"authorize",value:function(){window.location.href=function(e){var t="https://accounts.spotify.com/authorize";return t+="?response_type=token",t+="&show_dialog=true",t+="&client_id="+encodeURIComponent("6e313238e1804ca3891543ae4f2b0ee3"),t+="&redirect_uri=https://theruslanusmanov.github.io/spotify/auth",t+"&scope="+encodeURIComponent("user-read-email user-top-read user-library-read user-read-recently-played")}()}}]),e}(),ae=(r(36),function(){return Object(V.jsxs)("div",{className:"search",children:[Object(V.jsx)("h1",{children:"All genres"}),Object(V.jsxs)("div",{className:"grid-container",children:[Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})}),Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})}),Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})}),Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})})]})]})}),ie=(r(37),function(){return Object(V.jsxs)("div",{className:"search",children:[Object(V.jsx)("h1",{children:"Library"}),Object(V.jsxs)("div",{className:"grid-container",children:[Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})}),Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})}),Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})}),Object(V.jsx)("div",{className:"genre-card",children:Object(V.jsx)("h3",{children:"Rock"})})]})]})}),le=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("access_token");console.log(e),e||null!=e||ce.authorize(),n(e)}),[]),Object(V.jsx)("div",{className:"shell",children:r?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(B,{}),Object(V.jsx)(ne,{}),Object(V.jsxs)("div",{className:"container",children:[Object(V.jsx)(o.Route,{path:"/collection",component:ie}),Object(V.jsx)(o.Route,{path:"/search",component:ae}),Object(V.jsx)(o.Route,{exact:!0,path:"/",component:A})]})]}):null})},se=r(22),oe=function(){var e=Object(se.useHistory)();return Object(c.useEffect)((function(){var t=new URLSearchParams(window.location.hash.substr(1)).get("access_token");localStorage.setItem("access_token",t),localStorage.getItem("access_token")&&e.push("/")})),Object(V.jsx)(V.Fragment,{})};var ue=function(){return Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)(o.Route,{path:"/auth",component:oe}),Object(V.jsx)(o.Route,{path:"/",component:le})]})},he=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,44)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),a(e),i(e)}))};l.a.render(Object(V.jsx)(a.a.StrictMode,{children:Object(V.jsx)(s.a,{base:"/spotify",children:Object(V.jsx)(ue,{})})}),document.getElementById("root")),he()}},[[43,1,2]]]);
//# sourceMappingURL=main.9ab6337e.chunk.js.map